@startuml

!define TABLE(name) class name << (T,#FFAAAA) >>
!define PRIMARY_KEY(field) field << PK >>
!define FOREIGN_KEY(field) field << FK >>

skinparam class {
    BackgroundColor #f7f4eb
    BorderColor Black
}

skinparam classAttribute {
    BackgroundColor #f7f4eb
    BorderColor Black
}

Database "MySQL" as BoundedContextMySQL #f29111 {

        TABLE(Customer) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            clientId VARCHAR(36) UNIQUE NOT NULL
            firstName VARCHAR(255)
            lastName VARCHAR(255)
            email VARCHAR(255)
            phoneNumber VARCHAR(15)
        }

        TABLE(Truck) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            vin VARCHAR(17) UNIQUE NOT NULL
            capacity INT
        }

        TABLE(Inventory) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            inventoryId VARCHAR(36) UNIQUE NOT NULL
            description VARCHAR(255)
            FOREIGN_KEY(shipmentId) VARCHAR(36)
        }

        TABLE(Item) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            itemId VARCHAR(36) UNIQUE NOT NULL
            price DECIMAL(10, 2)
            picture BLOB
            handlingInstructions VARCHAR(255)
            FOREIGN_KEY(inventoryId) VARCHAR(36)
        }

        TABLE(Box) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            boxId VARCHAR(36) UNIQUE NOT NULL
            picture BLOB
            description VARCHAR(50)
            handlingInstructions VARCHAR(255)
            FOREIGN_KEY(inventoryId) VARCHAR(36)
        }

        TABLE(Quote){
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            quoteId VARCHAR(36) UNIQUE NOT NULL
            pickUpLocation VARCHAR(50)
            dropOffDestination VARCHAR(50)
            FOREIGN_KEY(customerId) VARCHAR(36)
        }

        TABLE(Shipment) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            shipmentId VARCHAR(36) UNIQUE NOT NULL
            shipmentStatus VARCHAR(255)
            shipmentDepartureAddress VARCHAR(255)
            shipmentArrivalAddress VARCHAR(255)
            FOREIGN_KEY(vin) VARCHAR(17)
            FOREIGN_KEY(customerId) VARCHAR(36)
        }

        TABLE(MovingCrew) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            crewId VARCHAR(36) UNIQUE NOT NULL
            type VARCHAR(255)
            FOREIGN_KEY(shipmentId) VARCHAR(36)
        }

        TABLE(Mover) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            moverId VARCHAR(36) UNIQUE NOT NULL
            firstName VARCHAR(255)
            lastName VARCHAR(255)
            email VARCHAR(255)
            FOREIGN_KEY(movingCrewId) VARCHAR(36)
        }

        TABLE(Driver) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            driverId VARCHAR(36) UNIQUE NOT NULL
            firstName VARCHAR(255)
            lastName VARCHAR(255)
            email VARCHAR(255)
            FOREIGN_KEY(shipmentId) VARCHAR(36)
        }

        TABLE(ShipmentReviewer) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            shipmentReviewerId VARCHAR(36)
            firstName VARCHAR(255)
            lastName VARCHAR(255)
            email VARCHAR(255)
        }

        TABLE(Observer) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            observerId VARCHAR(36) UNIQUE NOT NULL
            firstName VARCHAR(255)
            lastName VARCHAR(255)
            FOREIGN_KEY(shipmentId) VARCHAR(36)
        }

        TABLE(Report) {
            PRIMARY_KEY(id) INT AUTO_INCREMENT
            reportId VARCHAR(36) UNIQUE NOT NULL
            name VARCHAR(50)
            type VARCHAR(50)
            date DATETIME
            validity DATETIME
        }
}

    Customer ||--|{ Shipment
    Truck }|--|| Shipment
    Shipment ||--|{ MovingCrew
    MovingCrew ||--|{ Mover
    Driver }|--|| Shipment
    Shipment ||--o{ Observer
    Shipment ||--|{ ShipmentReviewer
    Driver ||--|| Truck
    Inventory ||--o{ Box
    Inventory ||--o{ Item
    Box ||--o{ Item
    Customer ||--o| Report
    Driver ||--|{ Report
    Shipment ||--|{ Inventory
    Customer ||--|{ Quote
    Mover ||--o| Report

@enduml